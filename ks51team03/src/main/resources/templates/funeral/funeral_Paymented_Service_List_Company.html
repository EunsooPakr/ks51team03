<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed; /* 모든 열의 너비를 고정 길이로 설정 */
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
            vertical-align: middle; /* 수직 가운데 정렬 */
        }

        th {
            background-color: #f2f2f2;
        }

        .num {
            width: 5%;
        }

        .title {
            width: 1%; /* 제목 칸 너비 줄이기 */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .price {
            width: 10%;
        }

        .weight {
            width: 10%;
        }

        .comment {
            width: 20%; /* 코멘트 칸 크기 늘리기 */
            white-space: pre-line; /* 줄 바꿈을 허용 */
            overflow: hidden;
            text-overflow: ellipsis;
            word-break: break-all; /* 단어가 길 때 줄 바꿈 */
        }

        .date {
            width: 30%;
        }

        .state {
            width: 10%;
        }
    </style>
</head>

<th:block layout:fragment="customContent">
    <body>
    <section class="py-12">
        <div class="container">
            <div class="board-body">
                <div class="board_wrap">
                    <div class="board_title">
                        <strong id="board_title"> 장례 서비스 예약 목록 입니다.</strong>
                        <p>서비스 목록(장례 서비스, 예약일, 예약자 ID, 반려동물 명, 결제 상태, 결제일, 결제 방법)</p>
                    </div>

                    <div class="board_list_wrap">
                        <table class="board_list">
                            <thead>
                            <tr>
                                <th class="num">번호</th>
                                <th class="comment">장례 서비스 </th>
                                <th class="comment">예약일</th>
                                <th class="weight">예약자 ID</th>
                                <th class="comment">반려동물 명</th>
                                <th class="date">결제 상태</th>
                                <th class="state">결제일</th>
                                <th class="date">결제 방법</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:if="${getPaymentServiceCompnayList == null || #lists.isEmpty(getPaymentServiceCompnayList)}">
                                <td colspan="8">결제된 내역이 없습니다.</td>
                            </tr>
                            <tr th:each="p, iterStat : ${getPaymentServiceCompnayList}">
                                <td class="num" th:text="${iterStat.count}"></td>
                                <td class="title" th:text="${p.getFpName()}"></td>
                                <td class="price" th:text="${p.getReserveStartDate()}"></td>
                                <td class="weight" th:text="${p.getReserveId()}"></td>
                                <td class="comment" th:text="${p.getReservePetName() != null && !#strings.isEmpty(p.getReservePetName()) ? p.getReservePetName() : '등록되지 않음'}"></td>
                                <td class="date" th:text="${p.getFpStatus()}"></td>
                                <td class="state" th:text="${p.getFpPayDate()}"></td>
                                <td class="date" th:text="${p.getFpMethod()}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="board_page">
                        <!-- 페이지 네이션 구현 -->
                        <!-- 필요에 따라 추가 -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    </body>
</th:block>

<!-- 사용자정의 javascript file -->
<th:block layout:fragment="customJsFile">

</th:block>

<!-- 사용자정의 javascript -->
<th:block layout:fragment="customJs">

</th:block>

</html>
